# 키친포스

## 요구 사항

- 메뉴 그룹 (MENU_GROUP)
  - 생성 : 메뉴 그룹을 생성할 수 있다 `POST` `/api/menu-groups`
    + 동일한 이름의 메뉴 그룹을 생성할 수 있다
    + 빈 이름으로 메뉴 그룹을 생성할 수 있다 (이상한 부분.. 제약 추가하는 것이 좋을 듯 해보임)
      <br>-> 빈 값으로는 생성 불가하도록 수정
  - 조회 : 모든 메뉴 그룹을 조회할 수 있다 `GET` `/api/menu-groups`


- 메뉴 (MENU)
  - 생성 : 하나의 메뉴 그룹에 속하는 메뉴를 생성할 수 있다 `POST` `/api/menus`
    + 존재하지 않는 메뉴 그룹에 속하는 메뉴는 생성할 수 없다
    + 존재하지 않는 상품으로 구성된 메뉴는 생성할 수 없다
    + 가격이 0원 미만인 메뉴는 생성할 수 없다
    + 메뉴의 가격이 각 상품의 가격의 합보다 큰 메뉴는 생성할 수 없다
    + 같은 이름, 구성(상품&수량), 가격의 메뉴를 중복 생성할 수 있다
    + 빈 이름으로 메뉴를 생성할 수 있다 (이상한 부분.. 제약 추가하는 것이 좋을 듯 해보임)
      <br>-> 빈 값으로는 생성 불가하도록 수정
  - 조회 : 모든 메뉴를 조회할 수 있다 `GET` `/api/menus`
    + 속한 메뉴 그룹에 상관없이 생성된 모든 메뉴성 조회한다


- 주문 (ORDERS, ORDER_LINE_ITEM)
  - 등록 : 하나의 주문 테이블에 대한 주문을 등록할 수 있다 `POST` `/api/orders`
    + 주문 테이블이 빈 테이블인 경우 주문을 등록할 수 없다
    + 생성되지 않은 주문 테이블에 대한 주문은 등록할 수 없다
    + 생성되지 않은 메뉴를 포함한 주문은 등록할 수 없다
    + 주문 메뉴, 수량 정보가 없는 경우 주문을 등록할 수 없다
    + 주문 테이블의 방문한 손님 수에 상관 없이 주문을 등록할 수 있다 (0명일때에도 주문 등록 가능)
    + 주문 등록 시 주문 상태는 '조리'로 지정된다
  - 조회 : 모든 주문을 조회할 수 있다 `GET` `/api/orders`
  - 상태변경 : 주문 상태를 변경할 수 있다 `PUT` `/api/orders/{orderId}/order-status`
    + 등록되지 않은 주문의 주문 상태는 변경할 수 없다
    + 주문 상태는 '조리', '식사', '계산 완료' 중 선택하여 자유롭게 변경 가능하다
      * 조리 -> 식사 -> 계산 완료
      * 조리 -> 계산 완료
      * 식사 -> 조리
    + 단, 계산 완료 상태인 주문은 상태 변경할 수 없다


- 상품 (PRODUCT)
  - 생성 : 상품을 생성할 수 있다 `POST` `/api/products`
    + 가격이 0원 미만인 상품은 생성할 수 없다
    + 동일한 이름, 가격의 상품을 생성할 수 있다
    + 빈 이름으로 상품을 생성할 수 있다 (이상한 부분.. 제약 추가하는 것이 좋을 듯 해보임)
  - 조회 : 모든 상품을 조회할 수 있다 `GET` `/api/products`


- 단체 지정 (TABLE_GROUP)
  - 단체 지정 : 2개 이상의 주문 테이블을 그룹화한다 `POST` `/api/table-groups`
    + 생성되지 않은 주문 테이블은 단체 지정 할 수 없다
    + 주문 테이블이 빈 테이블이 아닌 경우 단체 지정 할 수 없다
    + 이미 단체 지정된 테이블은 단체 지정 할 수 없다
    + 주문 테이블이 빈 테이블이 아닌 상태로 변경된다
    + 주문 테이블의 방문한 손님 수는 변경되지 않는다
  - 단체 지정 해제 : 단체 지정한 주문 테이블의 그룹 정보를 초기화한다 `DELETE` `/api/table-groups/{tableGroupId}`
    + 계산 완료되지 않은 주문이 등록되어 있는 경우 단체 지정 해제할 수 없다
    + 방문한 손님 수와 상관 없이 단체 지정 해제할 수 있다


- 주문 테이블 (ORDER_TABLE)
  - 생성 : 주문 테이블을 생성할 수 있다 `POST` `/api/tables`
  - 조회 : 모든 주문 테이블을 조회할 수 있다 `GET` `/api/tables`
  - 빈 테이블 여부 수정 : 빈 테이블 여부를 수정할 수 있다 `PUT` `/api/tables/{orderTableId}/empty`
    + 생성되지 않은 주문 테이블의 빈 테이블 여부는 수정할 수 없다
    + 단체 지정되어 있는 경우 빈 테이블로 변경할 수 없다
    + 계산 완료되지 않은 주문이 등록되어 있는 경우 빈 테이블로 변경할 수 없다
  - 방문한 손님 수 수정 : 방문한 손님 수를 수정할 수 있다 `PUT` `/api/tables/{orderTableId}/number-of-guests`
    + 0 보다 작은 수로 방문한 손님 수를 수정할 수 없다
    + 생성되지 않은 주문 테이블의 방문한 손님 수는 수정할 수 없다
    + 주문 테이블이 빈 테이블일 경우 방문한 손님 수를 수정할 수 없다
      <br>(0명으로 수정하는 것도 불가)


## 용어 사전

| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
| 상품 | product | 메뉴를 관리하는 기준이 되는 데이터 |
| 메뉴 그룹 | menu group | 메뉴 묶음, 분류 |
| 메뉴 | menu | 메뉴 그룹에 속하는 실제 주문 가능 단위 |
| 메뉴 상품 | menu product | 메뉴에 속하는 수량이 있는 상품 |
| 금액 | amount | 가격 * 수량 |
| 주문 테이블 | order table | 매장에서 주문이 발생하는 영역 |
| 빈 테이블 | empty table | 주문을 등록할 수 없는 주문 테이블 |
| 주문 | order | 매장에서 발생하는 주문 |
| 주문 상태 | order status | 주문은 조리 ➜ 식사 ➜ 계산 완료 순서로 진행된다. |
| 방문한 손님 수 | number of guests | 필수 사항은 아니며 주문은 0명으로 등록할 수 있다. |
| 단체 지정 | table group | 통합 계산을 위해 개별 주문 테이블을 그룹화하는 기능 |
| 주문 항목 | order line item | 주문에 속하는 수량이 있는 메뉴 |
| 매장 식사 | eat in | 포장하지 않고 매장에서 식사하는 것 |
